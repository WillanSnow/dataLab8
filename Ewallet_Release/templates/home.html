<!DOCTYPE html>
<html>
<!-- 头部 -->
<head>
    <title>E-wallet</title>

    <script>
        // 固定的展示文本
        // 创建监听
        function show() {
            elemen = document.getElementById("message")
            if (elemen.style.visibility == "hidden") {
                elemen.style.visibility = "visible"
            }
            else {
                elemen.style.visibility = "hidden"
            }
        }
            // document.getElementById('loginForm').addEventListener('submit', 
        function login(event) {
            event.preventDefault();

            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;

            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'your-server-url', true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.send('username=' + encodeURIComponent(username) + '&password=' + encodeURIComponent(password));
        }
    </script>
</head>

<!-- 主体部分 -->
<body>
    <div style="margin: auto; width: 50%;">
        <button id="click-button", onclick="show()">点击</button>
        <br>
        <button id="message", style="visibility: hidden;">a static text</button>

        <form id="loginForm">
            <label for="username", onsubmit="login(event)">账号:</label><br>
            <input type="text" id="username" name="username"><br>
            <label for="password">密码:</label><br>
            <input type="password" id="password" name="password"><br>
            <input type="submit" value="登录">
        </form>
    </div>
</body>
</html>


<!-- 从服务器获取点击后展示文本
// 创建监听
document.getElementById("click-button").addEventListener('click',function() {
    // 发送get请求
    fetch("/get_message").then(response => {
        if (response.ok) {
            return response.json();
        }
        else {
            throw new Error("Error");
        }
    }).then(data => {
        document.getElementById("message").textContent = data
    }).catch(miss => {
        console.error("Error", error);
    });
}); -->